<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bijles Portaal</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-50 p-6 font-sans">

<div id="root"></div>

<!-- React + ReactDOM CDN -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<!-- Je React code -->
<script type="text/babel">
const { useState } = React;

function App() {
  const [user, setUser] = useState(null);
  const USERS = [
    { id: 'zzainy', name: 'Zainy (Leraar)', role: 'teacher', code: 'teach123' },
    { id: 'abdoulaye', name: 'Abdoulaye', role: 'student', code: 'studA' },
  ];
  const [lessons, setLessons] = useState([
    { id: 1, title: 'Begrijpend lezen', cancelled: false },
    { id: 2, title: 'Rekenen', cancelled: false },
  ]);

  const login = (id, code) => {
    const u = USERS.find(x => x.id===id && x.code===code);
    if(u) setUser(u);
    else alert('Onjuiste login');
  }

  return (
    <div>
      {!user ? (
        <LoginPanel users={USERS} onLogin={login} />
      ) : (
        <div>
          <h1>Welkom {user.name}</h1>
          <ul>
            {lessons.map(l => (
              <li key={l.id}>{l.title} {l.cancelled && '(Vervallen)'}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
}

function LoginPanel({ users, onLogin }) {
  const [id, setId] = useState(users[0].id);
  const [code, setCode] = useState('');

  return (
    <div>
      <select value={id} onChange={e=>setId(e.target.value)}>
        {users.map(u=>(
          <option key={u.id} value={u.id}>{u.name} ({u.role})</option>
        ))}
      </select>
      <input value={code} onChange={e=>setCode(e.target.value)} placeholder="Code" />
      <button onClick={()=>onLogin(id, code)}>Login</button>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>

</body>
</html>
